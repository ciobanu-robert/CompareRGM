<div class="page">
    <app-topbar class="topbar"></app-topbar>

    <div class="contents">
        <app-side-bar class="sidebar"></app-side-bar>
        
        <div class="container">
            <div class="shadow">
                <div class="title">
                    <h1>Competitors</h1>
                </div>
            
                <div class="content">
                    <div class="competitors">
                        <div *ngFor="let competitor of competitors">
                            <button class="competitor" (click)="onSelect(competitor)">
                                <div class="img">
                                    <img 
                                        class="profile-img" 
                                        [src]="competitor.profileImage || '/assets/img/circle-user-solid.svg'"
                                    >
                                </div>
                                <div class="text">
                                    <h4 class="name">{{ competitor.company }}</h4>
                                    <p class="email">{{ competitor.email }}</p>
                                </div>
                            </button>

                            <hr class="line line-competitors">
                        </div>
                        <div class="no-competitors" *ngIf="competitors.length === 0">
                            <p>No competitors</p>
                        </div>
                    </div>
                    
                    <hr class="line line-selected">
    
                    <div class="selected">
                        <div *ngIf="selected">
                            <app-alert 
                                class="alert" 
                                *ngIf="showAlert" 
                                [color]="alertColor"
                            >
                                {{ alertMsg }}
                            </app-alert>
                            <img 
                                class="selected-profile-img"
                                [src]="competitor.profileImage || '/assets/img/circle-user-solid.svg'"
                            >
                            <h3 class="selected-name">{{ competitor.company }}</h3>
                            <h4 class="about">About</h4>
                            <p class="about-info">{{ competitor.description || 'No description yet'}}</p>
                            <button class="button" (click)="sendInvite()">Send invite</button>
                        </div>
                        <div class="no-selected-competitor" *ngIf="!selected">
                            <p>No competitor selected</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>