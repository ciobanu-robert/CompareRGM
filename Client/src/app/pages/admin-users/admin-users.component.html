<div class="page">
    <app-topbar class="topbar" [admin]="true"></app-topbar>
    
    <div class="contents">
        <div class="container">
            <div class="shadow">
                <div class="title">
                    <h1>Users</h1>
                                        
                    <button 
                        class="button"
                        (click)="download()"
                    >
                        Export users
                    </button>
                </div>
                
                <div class="content">

                    <div class="table">

                        <table class="users">
                            <tr class="table-header">
                                <th class="ID">ID</th>
                                <th class="image">Image</th>
                                <th class="email">Email</th>
                                <th class="name">Company</th>
                                <th class="buttons">Options</th>
                            </tr>

                            <tr class="user" *ngFor="let user of users | filter: searchText">
                                <td>{{ user._id }}</td>
                                <td>
                                    <img 
                                    class="profile-img" 
                                    [src]="user.profileImage || '/assets/img/circle-user-solid.svg'"
                                >
                                </td>
                                <td>{{ user.email }}</td>
                                <td>{{ user.company }}</td>
                                <td>
                                    <button 
                                        class="button button-admin {{ user.admin }}"
                                        (click)="admin(user)"
                                    >
                                        {{ user.admin ? 'Unmake' : 'Make' }} admin
                                    </button>
                                    <button 
                                        class="button button-ban {{ user.banned }}"
                                        (click)="ban(user)"
                                    >
                                        {{ user.banned ? 'Unban' : 'Ban' }} user
                                    </button>
                                    <button 
                                        class="view-user"
                                        (mouseover)="hover($event, user)" 
                                        (mouseout)="hover($event, user)" 
                                        (click)="viewUser(user)"
                                    >
                                        <i class="{{ user.icon }} fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                        </table>
                        <div class="no-products" *ngIf="users.length === 0">
                            <p>No products</p>
                        </div>
                </div>
            </div>
        </div>
    </div>
</div>